<div class="container">
  <div class="row">
    <div class="col-6 offset-3">
      <h2>Create Stock Form</h2>
      <div class="form-group stock-container">
        <!-- <div *ngIf="message">{{ message }}</div> -->
        <h1>

          {{console(stockCode) }}
        </h1>
        <form (ngSubmit)="createStock(stockForm)" #stockForm="ngForm">
            <div class="stock-name">
              <input type="text" placeholder="Stock Name"  required #stockName="ngModel" name="stockName" [(ngModel)]="stock.name"> 
            </div>
            <div *ngIf="stockName.errors && stockName.errors.required">
              Stock Name is Mandatory
            </div>
            <div class="stock-code">
              <input type="text" placeholder="Stock Code" minlength="2" required #stockCode="ngModel" name="stockCode" [(ngModel)]="stock.code"> 
            </div>
            <div *ngIf="stockCode.dirty && stockCode.invalid">
              <div *ngIf="stockCode.errors.required"> 
                Stock Code is Mandatory
              </div>
              <div *ngIf="stockCode.errors.minlength">
                Stock Code must be atleast of length 2
              </div>
            </div>
            <div class="stock-code">
              <input type="number" placeholder="Stock Price" required #stockPrice="ngModel" name="stockPrice" [ngModel]="stock.price"
              (ngModelChange)="setStockPrice($event)">
            </div>
            <div *ngIf="stockPrice.dirty && stockPrice.invalid">
              <div *ngIf="stockPrice.errors.required">
                Stock Price is Mandatory
              </div>
            </div>
            <div class="stock-exchange"> 
              <select name="stockExchange" [(ngModel)]="stock.exchange"> 
                <option *ngFor="let exchange of exchanges" [ngValue]="exchange">
                  {{exchange}}
                </option>
              </select>
            </div>
            <div class="stock-confirm">
              <input type="checkbox" name="stockConfirm" required [(ngModel)]="confirmed">
              I confirm that the information provided above is accurate!
            </div>
            <button [disabled]="!confirmed" type="submit">Create</button>
        </form>
      </div>
      <!-- <h2>Add Person Form</h2>
    <div class="form-group">
       <form [formGroup]="stockForm" (ngSubmit)="onSubmit()">
        <div formArrayName="notablePeople">
          <div
            *ngFor="let person of notablePeople.controls; let i = index"
            [formGroupName]="i"
            class="notable-people"
          >
            <div>Person {{ i + 1 }}</div>
            <div>
              <input
                type="text"
                placeholder="Person Name"
                formControlName="name"
              />
            </div>
            <div>
              <input
                type="text"
                placeholder="Person Title"
                formControlName="title"
              />
            </div>
            <button type="button" (click)="removeNotablePerson(i)">
              Remove Person
            </button>
          </div>
        </div>
        <button type="button" (click)="addNotablePerson()">
          Add Notable Person
        </button>
        <button type="submit">Submit</button>
        <button type="button" (click)="resetForm()">Reset</button>
      </form>
    </div> -->
    </div>

    <div class="col-6 offset-3">
      <h4>Stock Name is {{ stock | json }}</h4>
      <h4>Data has been confirmed:{{ confirmed }}</h4>
      <!-- <p class="mt-3">Form Control value: {{ stockForm.value | json }}</p>
    <p>Form Control status: {{ stockForm.status | json }}</p> -->
    </div>
  </div>
</div>
